import{slicedToArray as e,defineProperty as o}from"../../../_virtual/_rollupPluginBabelHelpers.js";import t,{forwardRef as r,useRef as a,useState as i,useCallback as s,useMemo as n}from"react";import l from"classnames";import c from"../Icon/Icon.js";import m from"../../hooks/useMergeRef.js";import{getCSSVar as d}from"../../services/themes.js";import{ElementAllowedColor as u}from"../../utils/colors-vars-map.js";import{getElementColor as p}from"../../types/Colors.js";import v from"../Avatar/Avatar.js";import f from"../IconButton/IconButton.js";import b from"../Text/Text.js";import{getTestId as g,ComponentDefaultTestId as j}from"../../tests/testIds.js";import{AvatarType as y}from"../Avatar/AvatarConstants.js";import{withStaticProps as h}from"../../types/withStaticProps.js";import C from"../../hooks/useSetFocus/index.js";import k from"../../hooks/useClickableProps/useClickableProps.js";import x from"./Chips.module.scss.js";import{ComponentVibeId as S}from"../../tests/constants.js";import N from"../../../icons/dist/react/CloseSmall.js";var A=h(r((function(r,u){var y=r.className,h=r.avatarClassName,A=r.iconClassName,E=r.id,T=r.label,M=void 0===T?"":T,w=r.leftIcon,I=void 0===w?null:w,P=r.rightIcon,B=void 0===P?null:P,z=r.leftAvatar,L=void 0===z?null:z,O=r.rightAvatar,R=void 0===O?null:O,D=r.disabled,H=void 0!==D&&D,F=r.readOnly,_=void 0!==F&&F,U=r.allowTextSelection,q=void 0!==U&&U,G=r.color,J=void 0===G?"primary":G,K=r.iconSize,Q=void 0===K?18:K,V=r.onDelete,W=void 0===V?function(e,o){}:V,X=r.onMouseDown,Y=r.onClick,Z=r.noAnimation,$=void 0===Z||Z,ee=r.ariaLabel,oe=r.disableClickableBehavior,te=void 0!==oe&&oe,re=r.leftAvatarType,ae=void 0===re?"img":re,ie=r.rightAvatarType,se=void 0===ie?"img":ie,ne=r.showBorder,le=void 0!==ne&&ne,ce=r.leftRenderer,me=r.rightRenderer,de=r.closeButtonAriaLabel,ue=void 0===de?"Remove":de,pe=r.noMargin,ve=void 0!==pe&&pe,fe=r["data-testid"]||g(j.CHIP,E),be=!(!Y&&!X||te),ge=!_&&!H,je=ee||"string"==typeof M&&M||"",ye=a(null),he=a(null),Ce=i(!1),ke=e(Ce,2),xe=ke[0],Se=ke[1],Ne=s((function(){return Se(!0)}),[]),Ae=s((function(){return Se(!1)}),[]),Ee=C({ref:he}).isFocused,Te=m(u,he),Me=l(x.chips,y,o(o(o(o(o({},x.disabled,H),x.noAnimation,$),x.withUserSelect,q),x.border,le),x.noMargin,ve)),we=l(x.clickable,Me,o(o({},x.disabled,H),x.disableTextSelection,!q)),Ie=n((function(){return{backgroundColor:H?d("disabled-background-color"):be&&(xe||Ee)?p(J,!0,!0):p(J,!0)}}),[H,be,xe,Ee,J]),Pe=s((function(e){e.stopPropagation(),W&&W(E,e)}),[E,W]),Be=s((function(e){void 0!==Y&&e.target!==ye.current&&(e.preventDefault(),Y(e))}),[Y]),ze=k({onClick:Be,onMouseDown:X,disabled:H,id:E,"data-testid":fe,ariaLabel:je,ariaHidden:!1,ariaHasPopup:!1,ariaExpanded:!1},Te),Le=be?Object.assign(Object.assign({},ze),{ref:Te,className:we,style:Ie,onMouseEnter:Ne,onMouseLeave:Ae}):{className:Me,"aria-label":je,style:Ie,ref:Te,onClick:Be,onMouseDown:X,id:E,"data-testid":fe,onMouseEnter:Ne,onMouseLeave:Ae},Oe="text"===ae?{text:L}:{src:L},Re="text"===ae?{text:R}:{src:R};return t.createElement("div",Object.assign({},Le,{"data-vibe":S.CHIPS}),L?t.createElement(v,Object.assign({withoutBorder:!0,className:l(x.avatar,x.left,h),customSize:18,type:ae,key:E},Oe)):null,I?t.createElement(c,{className:l(x.icon,x.left,A),iconType:"font",icon:I,iconSize:Q,ignoreFocusStyle:!0}):null,ce&&t.createElement("div",{className:l(x.customRenderer,x.left)},ce),t.createElement(b,{type:"text2",className:x.label},M),B?t.createElement(c,{className:l(x.icon,x.right,A),iconType:"font",icon:B,iconSize:Q,ignoreFocusStyle:!0}):null,R?t.createElement(v,Object.assign({withoutBorder:!0,className:l(x.avatar,x.right,h),customSize:18,type:se,key:E},Re)):null,me&&t.createElement("div",{className:l(x.customRenderer,x.right)},me),ge&&t.createElement(f,{size:"xxs",color:"on-primary-color",className:l(x.icon,x.close),ariaLabel:ue,hideTooltip:!0,icon:N,onClick:Pe,"data-testid":"".concat(fe,"-close"),ref:ye}))})),{colors:u,avatarTypes:y});export{A as default};
//# sourceMappingURL=Chips.js.map
