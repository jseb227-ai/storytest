import{slicedToArray as e,defineProperty as t}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{camelCase as o}from"es-toolkit";import{getStyle as i}from"../../helpers/typesciptCssModulesHelper.js";import{getTestId as r,ComponentDefaultTestId as n}from"../../tests/testIds.js";import a from"classnames";import s,{useState as l,useRef as d,useCallback as m,useEffect as c,useMemo as u}from"react";import{SwitchTransition as f,CSSTransition as p}from"react-transition-group";import v from"../../hooks/useEventListener/index.js";import E from"../../hooks/useAfterFirstRender/index.js";import{NOOP as b}from"../../utils/function-utils.js";import{CounterSize as j,CounterColor as x,CounterType as N}from"./CounterConstants.js";import{withStaticPropsWithoutForwardRef as k}from"../../types/withStaticProps.js";import"../../utils/colors-vars-map.js";import y from"./Counter.module.scss.js";import{ComponentVibeId as A}from"../../tests/constants.js";var C=k((function(j){var x=j.className,N=j.counterClassName,k=j.count,C=void 0===k?0:k,h=j.size,g=void 0===h?"large":h,w=j.kind,L=void 0===w?"fill":w,M=j.color,R=void 0===M?"primary":M,T=j.maxDigits,z=void 0===T?3:T,D=j.ariaLabeledBy,O=void 0===D?"":D,P=j.ariaLabel,U=void 0===P?"":P,B=j.id,H=void 0===B?"":B,_=j.prefix,F=void 0===_?"":_,I=j.onMouseDown,S=void 0===I?b:I,q=j.noAnimation,G=void 0!==q&&q,J=j["data-testid"],K=l(!1),Q=e(K,2),V=Q[0],W=Q[1],X=d(null),Y=d(null),Z=m((function(){W(!0)}),[W]),$=m((function(){W(!1)}),[W]);v({eventName:"animationend",callback:$,ref:X});var ee=E();c((function(){ee.current&&Z()}),[C,ee,Z]),c((function(){z>0||console.error("Max digits must be a positive number")}),[z]);var te=u((function(){return a(y.counter,i(y,o("size-"+g)),i(y,o("kind-"+L)),i(y,o("color-"+R)),t({},y.withAnimation,V),N)}),[g,L,R,V,N]),oe="counter"+(H?"-".concat(H):""),ie=(null==C?void 0:(""+C).length)>z?"".concat(Math.pow(10,z)-1,"+"):C+"",re=s.createElement("span",{id:oe,"data-testid":J||r(n.COUNTER,H)},F+ie);return s.createElement("span",{className:x,"aria-label":"".concat(U," ").concat(ie),"aria-labelledby":O,onMouseDown:S,"data-vibe":A.COUNTER},s.createElement("div",{className:te,"aria-label":ie,ref:X},G?re:s.createElement(f,{mode:"out-in"},s.createElement(p,{key:ie,nodeRef:Y,classNames:{enter:y.fadeEnter,enterActive:y.fadeEnterActive,exit:y.fadeExit,exitActive:y.fadeExitActive},addEndListener:function(e){var t;null===(t=Y.current)||void 0===t||t.addEventListener("transitionend",e,!1)}},s.createElement("span",{ref:Y,id:oe,"data-testid":J||r(n.COUNTER,H)},F+ie)))))}),{sizes:j,colors:x,kinds:N});export{C as default};
//# sourceMappingURL=Counter.js.map
