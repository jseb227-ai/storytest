{"version":3,"file":"Refable.js","sources":["../../../../../src/components/Refable/Refable.tsx"],"sourcesContent":["import React, { type HTMLProps, type MutableRefObject, type ReactElement } from \"react\";\nimport { chainFunctions, chainRefFunctions } from \"../../utils/function-utils\";\nimport { type VibeComponentProps } from \"../../types\";\n\nexport const Refable = React.forwardRef<\n  ReactElement,\n  React.PropsWithChildren<unknown & HTMLProps<any> & VibeComponentProps> & {\n    children: ReactElement | ReactElement[] | string;\n    /**\n     * The wrapper element type to use for React components. Defaults to \"span\".\n     */\n    wrapperElement?: \"span\" | \"div\";\n  }\n  //   @ts-expect-error React forwardRef type def doesn't seem to support multiple refs\n>(({ children, wrapperElement = \"span\", ...rest }, ref) => {\n  return React.Children.map(children, child => {\n    if (!React.isValidElement(child)) return null;\n\n    if (typeof child.type !== \"string\") {\n      const WrapperElement = wrapperElement;\n      return (\n        <WrapperElement ref={ref as MutableRefObject<any>} {...rest}>\n          {React.cloneElement(child, { ...child.props })}\n        </WrapperElement>\n      );\n    }\n\n    return React.cloneElement(child, {\n      ...rest,\n      ...child.props,\n      onClick: getChainedFunction(\"onClick\", child.props, rest),\n      onBlur: getChainedFunction(\"onBlur\", child.props, rest),\n      onMouseEnter: getChainedFunction(\"onMouseEnter\", child.props, rest),\n      onMouseLeave: getChainedFunction(\"onMouseLeave\", child.props, rest),\n      onMouseDown: getChainedFunction(\"onMouseDown\", child.props, rest),\n      onFocus: getChainedFunction(\"onFocus\", child.props, rest),\n      // @ts-expect-error\n      ref: chainRefFunctions([child.ref, ref as MutableRefObject<any>])\n    });\n  });\n});\n\nfunction getChainedFunction(\n  name: keyof React.HTMLProps<unknown>,\n  childProps: React.PropsWithChildren<React.HTMLProps<unknown>>,\n  wrapperProps: React.HTMLProps<unknown>\n) {\n  return chainFunctions([childProps[name], wrapperProps[name]], true);\n}\n"],"names":["Refable","React","forwardRef","_a","ref","children","_a$wrapperElement","wrapperElement","rest","__rest","Children","map","child","isValidElement","type","Object","assign","cloneElement","props","onClick","getChainedFunction","onBlur","onMouseEnter","onMouseLeave","onMouseDown","onFocus","chainRefFunctions","name","childProps","wrapperProps","chainFunctions"],"mappings":"gKAIO,IAAMA,EAAUC,EAAMC,YAU3B,SAACC,EAAgDC,OAA9CC,IAAAA,SAAQC,IAAEC,eAAAA,OAAiB,IAAHD,EAAG,OAAMA,EAAKE,EAAxCC,EAAAN,EAAA,CAAA,WAAA,mBACD,OAAOF,EAAMS,SAASC,IAAIN,GAAU,SAAAO,GAClC,OAAKX,EAAMY,eAAeD,GAEA,iBAAfA,EAAME,KAGbb,gBAFqBM,EAENQ,OAAAC,OAAA,CAACZ,IAAKA,GAAkCI,GACpDP,EAAMgB,aAAaL,EAAYG,OAAAC,OAAA,GAAAJ,EAAMM,SAKrCjB,EAAMgB,aAAaL,EAAKG,OAAAC,OAAAD,OAAAC,OAAAD,OAAAC,OAAA,CAAA,EAC1BR,GACAI,EAAMM,OAAK,CACdC,QAASC,EAAmB,UAAWR,EAAMM,MAAOV,GACpDa,OAAQD,EAAmB,SAAUR,EAAMM,MAAOV,GAClDc,aAAcF,EAAmB,eAAgBR,EAAMM,MAAOV,GAC9De,aAAcH,EAAmB,eAAgBR,EAAMM,MAAOV,GAC9DgB,YAAaJ,EAAmB,cAAeR,EAAMM,MAAOV,GAC5DiB,QAASL,EAAmB,UAAWR,EAAMM,MAAOV,GAEpDJ,IAAKsB,EAAkB,CAACd,EAAMR,IAAKA,OArBI,IAuB3C,GACF,IAEA,SAASgB,EACPO,EACAC,EACAC,GAEA,OAAOC,EAAe,CAACF,EAAWD,GAAOE,EAAaF,KAAQ,EAChE"}