{"version":3,"file":"useFullKeyboardListeners.js","sources":["../../../../src/hooks/useFullKeyboardListeners.ts"],"sourcesContent":["import { type MutableRefObject, useCallback, useEffect, useMemo } from \"react\";\nimport { noop } from \"es-toolkit\";\nimport useKeyEvent from \"./useKeyEvent\";\nimport { type KeyboardEventCallback } from \"../types/events\";\n\nexport enum NavDirections {\n  UP = \"up\",\n  DOWN = \"down\",\n  LEFT = \"left\",\n  RIGHT = \"right\"\n}\n\nexport const ARROW_DOWN_KEYS = [\"ArrowDown\"];\nexport const ARROW_UP_KEYS = [\"ArrowUp\"];\nexport const ARROW_RIGHT_KEYS = [\"ArrowRight\"];\nexport const ARROW_LEFT_KEYS = [\"ArrowLeft\"];\nexport const SELECTION_KEYS = [\"Enter\", \" \"];\nexport const ENTER_KEYS = [\"Enter\"];\nexport const ESCAPE_KEYS = [\"Escape\"];\nexport const END_KEYS = [\"End\"];\nexport const HOME_KEYS = [\"Home\"];\n\nexport default function useFullKeyboardListeners({\n  ref, // the reference for the component that listens to keyboard\n  onSelectionKey = noop,\n  onArrowNavigation = noop,\n  onEscape = noop,\n  onHome = noop,\n  onEnd = noop,\n  useDocumentEventListeners = false,\n  focusOnMount = false\n}: {\n  ref: MutableRefObject<HTMLElement>;\n  onSelectionKey: KeyboardEventCallback;\n  onArrowNavigation: (type: NavDirections) => void;\n  onEscape: KeyboardEventCallback;\n  onHome?: KeyboardEventCallback;\n  onEnd?: KeyboardEventCallback;\n  useDocumentEventListeners?: boolean;\n  focusOnMount: boolean;\n}) {\n  const listenerOptions = useMemo(() => {\n    if (useDocumentEventListeners) return undefined;\n\n    return {\n      ref,\n      preventDefault: true,\n      stopPropagation: true\n    };\n  }, [useDocumentEventListeners, ref]);\n\n  const onArrowDown = useCallback(() => onArrowNavigation(NavDirections.DOWN), [onArrowNavigation]);\n  const onArrowUp = useCallback(() => onArrowNavigation(NavDirections.UP), [onArrowNavigation]);\n  const onArrowRight = useCallback(() => onArrowNavigation(NavDirections.RIGHT), [onArrowNavigation]);\n  const onArrowLeft = useCallback(() => onArrowNavigation(NavDirections.LEFT), [onArrowNavigation]);\n\n  useKeyEvent({\n    keys: ARROW_DOWN_KEYS,\n    callback: onArrowDown,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: ARROW_UP_KEYS,\n    callback: onArrowUp,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: ARROW_RIGHT_KEYS,\n    callback: onArrowRight,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: ARROW_LEFT_KEYS,\n    callback: onArrowLeft,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: SELECTION_KEYS,\n    callback: onSelectionKey,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: ESCAPE_KEYS,\n    callback: onEscape,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: HOME_KEYS,\n    callback: onHome,\n    ...listenerOptions\n  });\n\n  useKeyEvent({\n    keys: END_KEYS,\n    callback: onEnd,\n    ...listenerOptions\n  });\n\n  useEffect(() => {\n    if (!focusOnMount || useDocumentEventListeners) return;\n    ref?.current?.focus();\n  }, [focusOnMount, ref, useDocumentEventListeners]);\n}\n"],"names":["NavDirections","ARROW_DOWN_KEYS","ARROW_UP_KEYS","ARROW_RIGHT_KEYS","ARROW_LEFT_KEYS","SELECTION_KEYS","ENTER_KEYS","ESCAPE_KEYS","END_KEYS","HOME_KEYS","useFullKeyboardListeners","_ref","ref","_ref$onSelectionKey","onSelectionKey","noop","_ref$onArrowNavigatio","onArrowNavigation","_ref$onEscape","onEscape","_ref$onHome","onHome","_ref$onEnd","onEnd","_ref$useDocumentEvent","useDocumentEventListeners","_ref$focusOnMount","focusOnMount","listenerOptions","useMemo","preventDefault","stopPropagation","onArrowDown","useCallback","DOWN","onArrowUp","UP","onArrowRight","RIGHT","onArrowLeft","LEFT","useKeyEvent","Object","assign","keys","callback","useEffect","_a","current","focus"],"mappings":"4IAKYA,GAAZ,SAAYA,GACVA,EAAA,GAAA,KACAA,EAAA,KAAA,OACAA,EAAA,KAAA,OACAA,EAAA,MAAA,OACD,CALD,CAAYA,IAAAA,EAKX,CAAA,IAEYC,IAAAA,EAAkB,CAAC,aACnBC,EAAgB,CAAC,WACjBC,EAAmB,CAAC,cACpBC,EAAkB,CAAC,aACnBC,EAAiB,CAAC,QAAS,KAC3BC,EAAa,CAAC,SACdC,EAAc,CAAC,UACfC,EAAW,CAAC,OACZC,EAAY,CAAC,QAEF,SAAAC,EAAwBC,GAkB/C,IAjBCC,EAAGD,EAAHC,IAAGC,EAAAF,EACHG,eAAAA,OAAiBC,IAAHF,EAAGE,EAAIF,EAAAG,EAAAL,EACrBM,kBAAAA,OAAoBF,IAAHC,EAAGD,EAAIC,EAAAE,EAAAP,EACxBQ,SAAAA,OAAWJ,IAAHG,EAAGH,EAAIG,EAAAE,EAAAT,EACfU,OAAAA,OAASN,IAAHK,EAAGL,EAAIK,EAAAE,EAAAX,EACbY,MAAAA,OAAQR,IAAHO,EAAGP,EAAIO,EAAAE,EAAAb,EACZc,0BAAAA,OAA4B,IAAHD,GAAQA,EAAAE,EAAAf,EACjCgB,aAAAA,OAAe,IAAHD,GAAQA,EAWdE,EAAkBC,GAAQ,WAC9B,IAAIJ,EAEJ,MAAO,CACLb,IAAAA,EACAkB,gBAAgB,EAChBC,iBAAiB,EAErB,GAAG,CAACN,EAA2Bb,IAEzBoB,EAAcC,GAAY,WAAA,OAAMhB,EAAkBjB,EAAckC,QAAO,CAACjB,IACxEkB,EAAYF,GAAY,WAAA,OAAMhB,EAAkBjB,EAAcoC,MAAK,CAACnB,IACpEoB,EAAeJ,GAAY,WAAA,OAAMhB,EAAkBjB,EAAcsC,SAAQ,CAACrB,IAC1EsB,EAAcN,GAAY,WAAA,OAAMhB,EAAkBjB,EAAcwC,QAAO,CAACvB,IAE9EwB,EAAWC,OAAAC,OAAA,CACTC,KAAM3C,EACN4C,SAAUb,GACPJ,IAGLa,EAAWC,OAAAC,OAAA,CACTC,KAAM1C,EACN2C,SAAUV,GACPP,IAGLa,EAAWC,OAAAC,OAAA,CACTC,KAAMzC,EACN0C,SAAUR,GACPT,IAGLa,EAAWC,OAAAC,OAAA,CACTC,KAAMxC,EACNyC,SAAUN,GACPX,IAGLa,EAAWC,OAAAC,OAAA,CACTC,KAAMvC,EACNwC,SAAU/B,GACPc,IAGLa,EAAWC,OAAAC,OAAA,CACTC,KAAMrC,EACNsC,SAAU1B,GACPS,IAGLa,EAAWC,OAAAC,OAAA,CACTC,KAAMnC,EACNoC,SAAUxB,GACPO,IAGLa,EAAWC,OAAAC,OAAA,CACTC,KAAMpC,EACNqC,SAAUtB,GACPK,IAGLkB,GAAU,iBACHnB,IAAgBF,IACT,QAAZsB,EAAAnC,aAAA,EAAAA,EAAKoC,eAAO,IAAAD,GAAAA,EAAEE,QACf,GAAE,CAACtB,EAAcf,EAAKa,GACzB"}