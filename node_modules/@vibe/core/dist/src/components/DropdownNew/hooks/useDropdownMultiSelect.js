import{useMemo as e,useCallback as t}from"react";import{useMultipleSelection as n,useSelect as o}from"downshift";import i from"./useDropdownFiltering.js";function l(l,r,s,u,d,p,c,g,a,m,I,f,v){var P=void 0!==c?c:r,h=i(l,v,f,P).filteredOptions,O=e((function(){return h.flatMap((function(e){return e.options}))}),[h]),S=n({selectedItems:P,initialSelectedItems:p,onSelectedItemsChange:function(e){var t=e.selectedItems;void 0===c&&s(t||[]),null==g||g(t||[])}}),M=S.getSelectedItemProps,b=S.addSelectedItem,C=S.removeSelectedItem,w=S.getDropdownProps,D=o({items:O,itemToString:function(e){var t;return null!==(t=null==e?void 0:e.label)&&void 0!==t?t:""},isItemDisabled:function(e){return!!e.disabled},selectedItem:null,isOpen:u,initialIsOpen:d,onSelectedItemChange:function(e){var t=e.selectedItem;if(t){var n=P.find((function(e){return e.value===t.value}));n?C(n):b(t),null==I||I(t)}},stateReducer:function(e,t){var n=t.changes;return t.type===o.stateChangeTypes.ItemClick?Object.assign(Object.assign({},n),{isOpen:!0}):n},onIsOpenChange:function(e){e.isOpen?null==a||a():null==m||m()}}),T=D.isOpen,j=D.highlightedIndex,x=D.getToggleButtonProps,y=D.getLabelProps,B=D.getMenuProps,L=D.getItemProps,k=D.reset,F=D.openMenu,R=D.toggleMenu,V=D.closeMenu,q=t((function(){void 0===c&&s([]),k(),null==g||g([])}),[c,s,k,g]);return{isOpen:T,inputValue:"",highlightedIndex:j,selectedItems:P,getSelectedItemProps:M,addSelectedItem:b,removeSelectedItem:C,getToggleButtonProps:x,getLabelProps:y,getMenuProps:B,getInputProps:function(){return{}},getItemProps:L,reset:q,filteredOptions:h,openMenu:F,toggleMenu:R,closeMenu:V,getDropdownProps:w}}export{l as default};
//# sourceMappingURL=useDropdownMultiSelect.js.map
