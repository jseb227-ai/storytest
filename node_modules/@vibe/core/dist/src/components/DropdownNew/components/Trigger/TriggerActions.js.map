{"version":3,"file":"TriggerActions.js","sources":["../../../../../../src/components/DropdownNew/components/Trigger/TriggerActions.tsx"],"sourcesContent":["import React from \"react\";\nimport { CloseSmall, DropdownChevronDown, DropdownChevronUp } from \"@vibe/icons\";\nimport { IconButton } from \"../../../IconButton\";\nimport { Flex } from \"../../../Flex\";\nimport { Loader } from \"../../../Loader\";\nimport styles from \"./Trigger.module.scss\";\nimport { useDropdownContext } from \"../../context/DropdownContext\";\nimport { type BaseListItemData } from \"../../../BaseListItem\";\n\nconst sizeMap = {\n  large: \"medium\",\n  medium: \"small\",\n  small: \"xs\"\n} as const;\n\nconst TriggerActions = () => {\n  const {\n    isOpen,\n    reset,\n    contextOnClear,\n    size,\n    disabled,\n    clearable,\n    readOnly,\n    multi,\n    selectedItem,\n    selectedItems = [],\n    toggleMenu,\n    getMenuProps,\n    loading\n  } = useDropdownContext<BaseListItemData>();\n\n  const hasSelection = multi ? selectedItems?.length > 0 : !!selectedItem;\n  const iconButtonSize = sizeMap[size] || \"small\";\n\n  const handleClear = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (contextOnClear) {\n      contextOnClear();\n    } else {\n      reset();\n    }\n  };\n\n  if (readOnly) {\n    return null;\n  }\n\n  return (\n    <div\n      onKeyDown={e => {\n        e.stopPropagation();\n      }}\n    >\n      <Flex className={styles.actionsWrapper}>\n        {loading && (\n          <Loader size={iconButtonSize === \"xs\" ? 16 : iconButtonSize === \"small\" ? 20 : 24} color=\"secondary\" />\n        )}\n        {hasSelection && clearable && !disabled && (\n          <IconButton\n            data-testid=\"dropdown-clear-button\"\n            icon={CloseSmall}\n            onClick={handleClear}\n            size={iconButtonSize}\n            ariaLabeledBy={getMenuProps().id}\n          />\n        )}\n        <IconButton\n          icon={isOpen ? DropdownChevronUp : DropdownChevronDown}\n          size={iconButtonSize}\n          disabled={disabled}\n          ariaControls={getMenuProps().id}\n          ariaExpanded={isOpen}\n          ariaLabeledBy={getMenuProps().id}\n          tabIndex={-1}\n          onClick={() => {\n            toggleMenu();\n          }}\n        />\n      </Flex>\n    </div>\n  );\n};\n\nexport default TriggerActions;\n"],"names":["sizeMap","large","medium","small","TriggerActions","_useDropdownContext","useDropdownContext","isOpen","reset","contextOnClear","disabled","clearable","_useDropdownContext$s","selectedItems","toggleMenu","getMenuProps","hasSelection","multi","length","selectedItem","iconButtonSize","size","readOnly","React","createElement","onKeyDown","e","stopPropagation","Flex","className","styles","actionsWrapper","loading","Loader","color","IconButton","icon","CloseSmall","onClick","ariaLabeledBy","id","DropdownChevronUp","DropdownChevronDown","ariaControls","ariaExpanded","tabIndex"],"mappings":"ycASA,IAAMA,EAAU,CACdC,MAAO,SACPC,OAAQ,QACRC,MAAO,MAGHC,EAAiB,WACrB,IAAAC,EAcIC,IAbFC,EAAMF,EAANE,OACAC,EAAKH,EAALG,MACAC,EAAcJ,EAAdI,eAEAC,EAAQL,EAARK,SACAC,EAASN,EAATM,UAGYC,EAAAP,EACZQ,cAAAA,OAAgB,IAAHD,EAAG,GAAEA,EAClBE,EAAUT,EAAVS,WACAC,EAAYV,EAAZU,aAIIC,EARCX,EAALY,OAQ2BJ,aAAa,EAAbA,EAAeK,QAAS,IAPvCb,EAAZc,aAQIC,EAAiBpB,EAbjBK,EAAJgB,OAasC,QAWxC,OArBUhB,EAARiB,SAsBO,KAIPC,EACEC,cAAA,MAAA,CAAAC,UAAW,SAAAC,GACTA,EAAEC,iBACJ,GAEAJ,EAAAC,cAACI,EAAK,CAAAC,UAAWC,EAAOC,gBAzBnB1B,EAAP2B,SA2BMT,EAACC,cAAAS,GAAOZ,KAAyB,OAAnBD,EAA0B,GAAwB,UAAnBA,EAA6B,GAAK,GAAIc,MAAM,cAE1FlB,GAAgBL,IAAcD,GAC7Ba,EAAAC,cAACW,EAAU,CAAA,cACG,wBACZC,KAAMC,EACNC,QA3BU,SAACZ,GACnBA,EAAEC,kBACElB,EACFA,IAEAD,KAuBMa,KAAMD,EACNmB,cAAexB,IAAeyB,KAGlCjB,EAACC,cAAAW,GACCC,KAAM7B,EAASkC,EAAoBC,EACnCrB,KAAMD,EACNV,SAAUA,EACViC,aAAc5B,IAAeyB,GAC7BI,aAAcrC,EACdgC,cAAexB,IAAeyB,GAC9BK,UAAW,EACXP,QAAS,WACPxB,GACF,KAKV"}