import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import o,{forwardRef as t,useRef as i,useEffect as a,useCallback as r,useMemo as n}from"react";import{camelCase as s}from"es-toolkit";import l from"classnames";import{SIZES as c}from"../../constants/sizes.js";import d from"../../hooks/useMergeRef.js";import{NOOP as u}from"../../utils/function-utils.js";import m from"../Icon/Icon.js";import p from"../Loader/Loader.js";import{ButtonColor as f,ButtonType as v,ButtonInputType as y,BUTTON_ICON_SIZE as g,SMALL_BUTTON_ICON_SIZE as b}from"./ButtonConstants.js";import{getParentBackgroundColorNotTransparent as h,TRANSPARENT_COLOR as j}from"./helper/dom-helpers.js";import{getTestId as N}from"../../tests/testIds.js";import{withStaticProps as x}from"../../types/withStaticProps.js";import"../../utils/colors-vars-map.js";import{getStyle as C}from"../../helpers/typesciptCssModulesHelper.js";import{ComponentDefaultTestId as E,ComponentVibeId as k}from"../../tests/constants.js";import F from"./Button.module.scss.js";import{useButtonLoading as B}from"./helper/useButtonLoading.js";var I=x(t((function(t,c){var f=t.className,v=t.children,y=t.kind,x=void 0===y?"primary":y,I=t.onClick,S=void 0===I?u:I,T=t.name,P=t.size,L=void 0===P?"medium":P,z=t.color,O=void 0===z?"primary":z,M=t.disabled,w=void 0!==M&&M,D=t.rightIcon,U=void 0===D?null:D,A=t.leftIcon,H=void 0===A?null:A,R=t.success,_=void 0!==R&&R,q=t.successText,G=void 0===q?"":q,J=t.successIcon,K=void 0===J?null:J,Q=t.style,V=t.loading,W=void 0!==V&&V,X=t.loaderClassName,Y=t.active,Z=void 0!==Y&&Y,$=t.activeButtonClassName,ee=t.id,oe=t.marginRight,te=void 0!==oe&&oe,ie=t.marginLeft,ae=void 0!==ie&&ie,re=t.type,ne=void 0===re?"button":re,se=t.onMouseDown,le=void 0===se?u:se,ce=t.ariaLabel,de=t.rightFlat,ue=void 0!==de&&de,me=t.leftFlat,pe=void 0!==me&&me,fe=t.preventClickAnimation,ve=void 0!==fe&&fe,ye=t.noSidePadding,ge=void 0!==ye&&ye,be=t.onFocus,he=void 0===be?u:be,je=t.onBlur,Ne=void 0===je?u:je,xe=t.ariaLabeledBy,Ce=t.defaultTextColorOnPrimaryColor,Ee=void 0===Ce?j:Ce,ke=t.ariaHasPopup,Fe=t.ariaExpanded,Be=t.ariaControls,Ie=t["aria-describedby"],Se=t["aria-hidden"],Te=t["aria-pressed"],Pe=t.blurOnMouseUp,Le=void 0===Pe||Pe,ze=t["data-testid"],Oe=t.insetFocus,Me=void 0!==Oe&&Oe,we=t.tabIndex,De=i(null),Ue=d(c,De),Ae=B({isLoading:W}).loading;a((function(){if(("on-primary-color"===O||"fixed-light"===O)&&"primary"===x&&De.current){var e=De.current;e.style.color=h(e,Ee)}}),[x,De,O,Ee]);var He=r((function(){var e=De.current;!w&&e&&Le&&e.blur()}),[w,De,Le]),Re=r((function(e){w||Ae||_?e.preventDefault():S&&S(e)}),[S,w,Ae,_]),_e=r((function(e){w||Ae||_?e.preventDefault():le&&le(e)}),[le,w,Ae,_]),qe=n((function(){var o,t=_?"positive":O;return l(f,F.button,C(F,s("size-"+L)),C(F,s("kind-"+x)),C(F,s("color-"+t)),(e(e(e(e(e(e(e(e(e(e(o={},F.success,_),C(F,s("color-"+t+"-active")),Z),$,Z),F.marginRight,te),F.marginLeft,ae),F.rightFlat,ue),F.leftFlat,pe),F.preventClickAnimation,ve),F.noSidePadding,ge),F.disabled,w),e(o,F.insetFocusStyle,Me)))}),[_,O,f,L,x,Z,$,te,ae,ue,pe,ve,ge,w,Me]),Ge=n((function(){return{ref:Ue,type:ne,className:qe,name:T,onMouseUp:He,style:Q,onClick:Re,id:ee,onFocus:he,onBlur:Ne,tabIndex:w||Se?-1:we,"data-testid":ze||N(E.BUTTON,ee),"data-vibe":k.BUTTON,onMouseDown:_e,"aria-disabled":w,"aria-busy":Ae,"aria-labelledby":xe,"aria-label":ce,"aria-haspopup":ke,"aria-expanded":Fe,"aria-controls":Be,"aria-describedby":Ie,"aria-hidden":Se,"aria-pressed":Te}}),[Ue,ne,qe,T,He,Q,Re,ee,he,Ne,we,ze,_e,w,Ae,xe,ce,ke,Fe,Be,Ie,Se,Te]),Je=r((function(e){if("function"==typeof e)switch(L){case"xxs":case"xs":return b;default:return g}}),[L]),Ke=n((function(){return o.Children.toArray(v).some(Boolean)}),[v]),Qe=n((function(){return o.createElement(o.Fragment,null,H?o.createElement(m,{iconType:"font",icon:H,iconSize:Je(H),className:l(e({},F.leftIcon,Ke)),ignoreFocusStyle:!0}):null,v,U?o.createElement(m,{iconType:"font",icon:U,iconSize:Je(U),className:l(e({},F.rightIcon,Ke)),ignoreFocusStyle:!0}):null)}),[v,Ke,Je,H,U]);return Ae?o.createElement("button",Object.assign({},Ge,{key:"".concat(ee,"-loading")}),o.createElement("span",{className:l(F.loader,X)},o.createElement(p,{className:F.loaderSvg}),o.createElement("span",{"aria-hidden":!0,className:F.textPlaceholder},Qe))):_?o.createElement("button",Object.assign({},Ge,{key:"".concat(ee,"-success")}),o.createElement("span",{className:F.successContent},K?o.createElement(m,{iconType:"font",icon:K,iconSize:Je(K),className:l(e({},F.leftIcon,!!G)),ignoreFocusStyle:!0}):null,G),o.createElement("span",{"aria-hidden":"true",className:F.textPlaceholder},Qe)):o.createElement("button",Object.assign({},Ge,{key:"".concat(ee,"-button")}),Qe)})),{sizes:c,colors:f,kinds:v,types:y,inputTags:y});export{I as default};
//# sourceMappingURL=Button.js.map
