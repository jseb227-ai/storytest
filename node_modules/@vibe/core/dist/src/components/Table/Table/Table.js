import{slicedToArray as e,defineProperty as t}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import r,{forwardRef as o,useRef as s,useState as a,useCallback as l,useMemo as n}from"react";import i from"classnames";import{withStaticProps as m}from"../../../types/withStaticProps.js";import"../../../utils/colors-vars-map.js";import{getTableRowLayoutStyles as u}from"./tableHelpers.js";import{getTestId as c}from"../../../tests/testIds.js";import{ComponentDefaultTestId as f,ComponentVibeId as d}from"../../../tests/constants.js";import{RowSizes as p,RowHeights as b}from"./TableConsts.js";import v from"./Table.module.scss.js";import{TableProvider as j}from"../context/TableContext/TableContext.js";import{TableRowMenuProvider as R}from"../context/TableRowMenuContext/TableRowMenuContext.js";import S from"../../../hooks/useMergeRef.js";var T=m(o((function(o,m){var p=o.id,T=o.className,w=o["data-testid"],x=o.columns,y=o.errorState,z=o.emptyState,g=o.dataState,h=o.style,C=o.children,E=o.size,M=void 0===E?"medium":E,A=o.withoutBorder,B=s(null),H=S(m,B),I=a(!1),L=e(I,2),O=L[0],P=L[1],k=a(null),N=e(k,2),V=N[0],_=N[1],q=l((function(){P(!1),_(null)}),[]),D=a(!1),F=e(D,2),G=F[0],J=F[1],K=l((function(){J(!0)}),[]),Q=a(!1),U=e(Q,2),W=U[0],X=U[1],Y=l((function(e){if(q(),!G){var t=e.target.scrollLeft>0;X((function(e){return e!==t?t:e}))}}),[q,G]),Z=u(x),$=Object.assign({"--table-grid-template-columns":Z.gridTemplateColumns,"--table-row-size":"".concat(b[M],"px")},h),ee=n((function(){return{columns:x,dataState:g,emptyState:z,errorState:y,size:M,tableRootRef:B,isVirtualized:G,markTableAsVirtualized:K,isScrolled:W,setIsScrolled:function(e){return X(e)}}}),[x,g,z,y,G,K,W,M]),te=n((function(){return{tableRootRef:B,hoveredRowRef:V,isMenuOpen:O,resetHoveredRow:q,setHoveredRowRef:function(e){return _(e)},setIsMenuOpen:function(e){return P(e)}}}),[V,O,q,_]);return r.createElement(j,{value:ee},r.createElement(R,{value:te},r.createElement("div",{ref:H,id:p,className:i(v.table,t(t(t({},v.border,!A),v.virtualized,G),v.hasScroll,W),T),"data-testid":w||c(f.TABLE,p),"data-vibe":d.TABLE,role:"table",style:$,onScroll:Y},C)))})),{sizes:p});export{T as default};
//# sourceMappingURL=Table.js.map
