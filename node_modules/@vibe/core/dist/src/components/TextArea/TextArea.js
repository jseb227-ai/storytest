import{slicedToArray as e,defineProperty as t}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{__rest as a}from"../../../_virtual/_tslib.js";import r,{forwardRef as l,useMemo as s,useState as i,useCallback as n}from"react";import o from"classnames";import{getTestId as d}from"../../tests/testIds.js";import{ComponentDefaultTestId as m,ComponentVibeId as c}from"../../tests/constants.js";import u from"./TextArea.module.scss.js";import x from"../Text/Text.js";import p from"../Flex/Flex.js";import f from"../HiddenText/HiddenText.js";var h={small:3,large:4},g=l((function(l,g){var b=l.size,v=void 0===b?"small":b,T=l.rows,E=l.label,j=l.helpText,y=l.success,w=l.error,A=l.className,C=l["data-testid"],N=l.id,_=l.disabled,z=l.readOnly,L=l.required,O=l.maxLength,q=l.allowExceedingMaxLength,F=l.onChange,H=l.value,M=l.resize,P=void 0===M||M,R=l.showCharCount,X=void 0!==R&&R,B=a(l,["size","rows","label","helpText","success","error","className","data-testid","id","disabled","readOnly","required","maxLength","allowExceedingMaxLength","onChange","value","resize","showCharCount"]),I=T||h[v],W=j&&"".concat(N,"-help-text"),k=q&&"".concat(N,"-allow-exceeding-max-length"),D=s((function(){return[W,k].filter((function(e){return!!e})).join(" ")||void 0}),[W,k]),G=i((null==H?void 0:H.length)||0),J=e(G,2),K=J[0],Q=J[1],S=w||"number"==typeof O&&K>O,U=n((function(e){Q(e.target.value.length),null==F||F(e)}),[F]);return r.createElement("div",{className:o(u.textAreaWrapper,t(t(t(t({},u.error,S),u.success,y),u.disabled,_),u.readOnly,z),A),"data-testid":C||d(m.TEXT_AREA,N),"data-vibe":c.TEXT_AREA},E&&r.createElement("label",{className:o(u.label,t({},u.required,L)),htmlFor:N},E),r.createElement("textarea",Object.assign({},B,{id:N,maxLength:"number"!=typeof O||q?void 0:O,ref:g,value:H,disabled:_,readOnly:z,required:L,rows:I,className:o(u.textArea,[u[v]],t({},u.resize,P)),"aria-invalid":S,"aria-describedby":D,onChange:U})),(X||j)&&r.createElement(p,{gap:"xs",justify:"space-between",className:o(u.subTextContainer)},j&&r.createElement(x,{className:o(u.helpText),color:"inherit",id:W},j),X&&r.createElement(r.Fragment,null,r.createElement(x,{className:u.limitText},K,"number"==typeof O&&"/".concat(O)),r.createElement(f,{id:k,text:"".concat(K," out of ").concat(O)}))))}));export{g as default};
//# sourceMappingURL=TextArea.js.map
