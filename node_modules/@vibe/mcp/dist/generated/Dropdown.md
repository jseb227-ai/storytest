# Storybook Code Examples

## Overview

```tsx
const dropdownTemplate = (props: BaseDropdownProps<any>) => {
  const options = useMemo(() => [{
    value: 1,
    label: "Option 1"
  }, {
    value: 2,
    label: "Option 2"
  }, {
    value: 3,
    label: "Option 3"
  }], []);
  return <div style={{
    height: "150px",
    width: "300px"
  }}>
      <Dropdown options={options} label="Label" helperText="Helper text" {...props} />
    </div>;
}
```

## Sizes

```tsx
const options = useMemo(() => [{
  value: 1,
  label: "Option 1"
}, {
  value: 2,
  label: "Option 2"
}, {
  value: 3,
  label: "Option 3"
}], []);
return <>
        <div style={{
    width: "300px"
  }}>
          <Dropdown id="sizes-large" ariaLabel="Large dropdown" options={options} placeholder="Placeholder text here" size="large" />
        </div>
        <div style={{
    width: "300px"
  }}>
          <Dropdown id="sizes-medium" ariaLabel="Medium dropdown" options={options} placeholder="Placeholder text here" size="medium" />
        </div>
        <div style={{
    width: "300px"
  }}>
          <Dropdown id="sizes-small" ariaLabel="Small dropdown" options={options} placeholder="Placeholder text here" size="small" />
        </div>
      </>;
```

## States

```tsx
<Flex direction="row" gap="medium">
      <Flex direction="column" gap="medium">
        <div style={{
      width: "300px"
    }}>
          <Dropdown id="states-default" ariaLabel="Default dropdown" options={[]} placeholder="Default" />
        </div>
        <div style={{
      width: "300px"
    }}>
          <Dropdown id="states-disabled" ariaLabel="Disabled dropdown" options={[]} placeholder="Disabled" disabled />
        </div>
      </Flex>
      <Flex direction="column" gap="medium">
        <div style={{
      width: "300px"
    }}>
          <Dropdown id="states-error" ariaLabel="Error dropdown" options={[]} placeholder="Error" error />
        </div>
        <div style={{
      width: "300px"
    }}>
          <Dropdown id="states-readonly" ariaLabel="Readonly dropdown" options={[]} placeholder="Readonly" readOnly />
        </div>
      </Flex>
    </Flex>
```

## MultiSelect

```tsx
const options = useMemo(() => [{
  value: "1",
  label: "Option 1"
}, {
  value: "2",
  label: "Option 2"
}, {
  value: "3",
  label: "Option 3"
}, {
  value: "4",
  label: "Option 4"
}], []);
return <Flex gap="large" align="start" justify="start">
        <Flex direction="column" gap="medium">
          <Text>Single line with hidden options</Text>
          <div style={{
      width: "350px",
      marginBottom: "50px"
    }}>
            <Dropdown placeholder="Single line multi state" defaultValue={[options[0], options[1], options[2]]} options={options} multi />
          </div>
        </Flex>
        <Flex direction="column" gap="medium">
          <Text>Multiple lines</Text>
          <div style={{
      width: "350px",
      marginBottom: "50px"
    }}>
            <Dropdown placeholder="Multiple line multi state" defaultValue={[options[0], options[1], options[2]]} options={options} multi multiline />
          </div>
        </Flex>
      </Flex>;
```

## DropdownWithIconOrAvatar

```tsx
const optionsIcons: any = useMemo(() => [{
  value: "email",
  label: "Email",
  startElement: {
    type: "icon",
    value: Email
  }
}, {
  value: "attach",
  label: "Attach",
  startElement: {
    type: "icon",
    value: Attach
  }
}], []);
const optionsAvatar: any = useMemo(() => [{
  value: "Julia",
  label: "Julia Martinez",
  startElement: {
    type: "avatar",
    value: person1
  }
}, {
  value: "Sophia",
  label: "Sophia Johnson",
  startElement: {
    type: "avatar",
    value: person2
  }
}, {
  value: "Marco",
  label: "Marco DiAngelo",
  startElement: {
    type: "avatar",
    value: person3
  }
}], []);
return <Flex gap="large" align="start" justify="start">
        <Flex direction="column" gap="medium">
          <Text>Single value</Text>
          <div style={{
      width: "350px",
      marginBottom: "10px"
    }}>
            <Dropdown defaultValue={optionsIcons[0]} options={optionsIcons} />
          </div>
          <div style={{
      width: "350px",
      marginBottom: "10px"
    }}>
            <Dropdown defaultValue={optionsAvatar[0]} options={optionsAvatar} />
          </div>
        </Flex>
        <Flex direction="column" gap="medium">
          <Text>Multiple values</Text>
          <div style={{
      width: "350px",
      marginBottom: "10px"
    }}>
            <Dropdown defaultValue={[optionsIcons[0]]} options={optionsIcons} multi />
          </div>
          <div style={{
      width: "350px",
      marginBottom: "10px"
    }}>
            <Dropdown defaultValue={[optionsAvatar[0]]} options={optionsAvatar} multi />
          </div>
        </Flex>
      </Flex>;
```

## Searchable

```tsx
const options = useMemo(() => Array.from({
  length: 10
}, (_, i) => ({
  value: `Option ${i + 1}`,
  label: `Option ${i + 1}`
})), []);
return <div style={{
  width: "300px"
}}>
        <Dropdown placeholder={"Searchable for an item"} options={options} searchable maxMenuHeight={170} />
      </div>;
```

## DropdownWithGroups

```tsx
const options = useMemo(() => Array.from({
  length: 2
}, (_, groupIndex) => ({
  label: `Group ${groupIndex + 1}`,
  options: Array.from({
    length: 3
  }, (_, optionIndex) => ({
    value: `${groupIndex * 2 + optionIndex + 1}`,
    label: `Option ${groupIndex * 2 + optionIndex + 1}`
  }))
})), []);
const optionsWithoutGroupLabel = useMemo(() => Array.from({
  length: 2
}, (_, groupIndex) => ({
  options: Array.from({
    length: 2
  }, (_, optionIndex) => ({
    value: `${groupIndex * 2 + optionIndex + 1}`,
    label: `Option ${groupIndex * 2 + optionIndex + 1}`
  }))
})), []);
return <Flex gap="medium" align="start" justify="start">
        <Flex direction="column" gap="medium">
          <Text>Group by divider</Text>
          <div style={{
      width: "300px"
    }}>
            <Dropdown placeholder="Group by divider" options={optionsWithoutGroupLabel} withGroupDivider maxMenuHeight={170} />
          </div>
        </Flex>
        <Flex direction="column" gap="medium">
          <Text>Group by category title</Text>
          <div style={{
      width: "300px"
    }}>
            <Dropdown placeholder="Group by category title" options={options} maxMenuHeight={170} />
          </div>
        </Flex>
        <Flex direction="column" gap="medium">
          <Text>Group by category title sticky</Text>
          <div style={{
      width: "300px"
    }}>
            <Dropdown placeholder="Group by category title sticky" options={options} stickyGroupTitle maxMenuHeight={170} />
          </div>
        </Flex>
      </Flex>;
```

## DropdownItemWithElements

```tsx
const startOptions: BaseListItemData<Record<string, unknown>>[] = useMemo(() => [{
  value: "icon",
  label: "Label with icon",
  startElement: {
    type: "icon",
    value: Email
  }
}, {
  value: "avatar",
  label: "Label with avatar",
  startElement: {
    type: "avatar",
    value: person1
  }
}, {
  value: "indent",
  label: "Label with indent",
  startElement: {
    type: "indent"
  }
}], []);
const endOptions: BaseListItemData<Record<string, unknown>>[] = useMemo(() => [{
  value: "endIcon",
  label: "Label with end icon",
  endElement: {
    type: "icon",
    value: Email
  }
}, {
  value: "hintText",
  label: "Label with hint text",
  endElement: {
    type: "suffix",
    value: "Hint text"
  }
}], []);
return <Flex gap="large">
        <div style={{
    width: "300px"
  }}>
          <Dropdown placeholder={"Placeholder text here"} options={startOptions} label="Start Elements" required />
        </div>
        <div style={{
    width: "300px"
  }}>
          <Dropdown placeholder={"Placeholder text here"} options={endOptions} label="End Elements" required />
        </div>
      </Flex>;
```

## DropdownHideSelectedItems

```tsx
const options = useMemo(() => Array.from({
  length: 10
}, (_, i) => ({
  value: `Option ${i + 1}`,
  label: `Option ${i + 1}`
})), []);
return <div style={{
  width: "300px"
}}>
        <Dropdown placeholder={"Placeholder text here"} options={options} defaultValue={[options[0], options[2], options[3]]} label="Label" required multi showSelectedOptions={false} />
      </div>;
```

## DropdownWithTooltips

```tsx
const optionsWithTooltips = useMemo(() => Array.from({
  length: 2
}, (_, i) => ({
  value: `Option ${i + 1}`,
  label: `Option ${i + 1}`,
  tooltipProps: {
    content: `Description for option ${i + 1}`
  }
})), []);
return <div style={{
  width: "300px"
}}>
        <Dropdown placeholder={"Placeholder text here"} options={optionsWithTooltips} />
      </div>;
```

## Virtualized Dropdown

```tsx
const options = useMemo(() => [{
  options: Array.from({
    length: 1000
  }, (_, index) => ({
    value: `option-${index + 1}`,
    label: `Option ${index + 1}`
  }))
}], []);
const groupedOptions = useMemo(() => Array.from({
  length: 10
}, (_, groupIndex) => ({
  label: `Group ${groupIndex + 1}`,
  options: Array.from({
    length: 100
  }, (_, optionIndex) => ({
    value: `group-${groupIndex + 1}-option-${optionIndex + 1}`,
    label: `Group ${groupIndex + 1} - Option ${optionIndex + 1}`
  }))
})), []);
const virtualizedMenuRenderer = useCallback(({
  children
}: {
  children: React.ReactNode;
}) => {
  const flattenedOptions: React.ReactElement[] = [];
  const flattenOptions = (reactNode: React.ReactNode) => {
    React.Children.forEach(reactNode, childElement => {
      if (React.isValidElement(childElement)) {
        if (childElement.type === "li" || childElement.props?.role) {
          flattenedOptions.push(childElement);
        } else if (childElement.props?.children) {
          flattenOptions(childElement.props.children);
        }
      }
    });
  };
  flattenOptions(children);
  if (flattenedOptions.length === 0) {
    return <div>No options available</div>;
  }
  const itemHeight = 40;
  const containerHeight = 200;

  // Row renderer that preserves original elements with all their downshift props
  const VirtualizedRow = useCallback(({
    index,
    style
  }: {
    index: number;
    style: React.CSSProperties;
  }) => {
    const option = flattenedOptions[index];
    return <div style={style}>{option}</div>;
  }, [flattenedOptions]);
  return <List height={containerHeight} width="100%" itemCount={flattenedOptions.length} itemSize={itemHeight} overscanCount={5}>
          {VirtualizedRow}
        </List>;
}, []);
return <Flex gap="large" align="start">
        <div style={{
    width: "350px"
  }}>
          <Dropdown placeholder="Search" options={options} label="Virtualized" menuRenderer={virtualizedMenuRenderer} searchable maxMenuHeight={250} />
        </div>
        <div style={{
    width: "350px"
  }}>
          <Dropdown placeholder="Search" options={groupedOptions} label="Grouped Virtualized" menuRenderer={virtualizedMenuRenderer} searchable maxMenuHeight={250} />
        </div>
      </Flex>;
```

